"use strict";function _createForOfIteratorHelper(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var t,o=0;return{s:t=function t(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.t||r.t()}finally{if(c)throw i}}}}function _slicedToArray(e,n){return _arrayWithHoles(e)||_iterableToArrayLimit(e,n)||_unsupportedIterableToArray(e,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function _iterableToArrayLimit(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==r.t||r.t()}finally{if(c)throw o}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var MAILTO_TIMEOUT=2e3,QR_SCROLL_DELAY=150,messageSuggestions=["Ich habe Schwierigkeiten bei ...","Ich verstehe ... nicht","Das Thema ... liegt mir nicht"];!function(){var e=document.querySelector("#message"),n=Math.floor(Math.random()*messageSuggestions.length);e.value=messageSuggestions[n]}(),function(){var e=document.querySelector(".hero-continuation");e.style.height=e.clientHeight+"px"}();var trigger_event=function trigger_event(e){window.hasOwnProperty("o")&&console.debug("event",e),sa_event(e)},trigger_event_once=function(){var n={};return function(e){n.hasOwnProperty(e)||(n[e]=!0,trigger_event(e))}}();function register_event(e,n,r,t){e.addEventListener(n,function(e){(t?trigger_event_once:trigger_event)(r)})}function register_event_once(e,n,r){register_event(e,n,r,!0)}function queryParams(e){var n,r={},t=_createForOfIteratorHelper((e=e.replace("?","")).split("&"));try{for(t.s();!(n=t.n()).done;){var o=_slicedToArray(n.value.split("="),2),i=o[0],a=o[1];r[i]=a}}catch(c){t.e(c)}finally{t.f()}return r}function queryString(e){var n,r=[];for(n in e)e.hasOwnProperty(n)&&r.push(n+"="+e[n]);return"?"+r.join("&")}function shallowClone(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r}function trimEnd(e,n){for(;0<e.length&&e.endsWith(n);)e=e.substring(0,e.length-1);return e}function elementPosition(e){if(e.offsetParent){for(var n=0;n+=e.offsetTop,e=e.offsetParent;);return n}}!function(){var t=document.querySelector("#message"),o=document.querySelector("#send-message");t.removeAttribute("disabled");var e=_slicedToArray(o.href.split("?"),2),i=e[0],a=queryParams(e[1]),e=a.body.indexOf("."),c=decodeURIComponent(a.body.substring(0,e+1)),u=a.body.substring(e+1,a.body.length);register_event_once(t,"focus","email_input_focused"),t.addEventListener("input",function(e){var n,r=t.value;0===r.length&&(trigger_event_once("email_input_cleared"),r=c),(r=(r=r.trim()).charAt(0).toUpperCase()+r.slice(1)).endsWith("...")||(r=trimEnd(r,".")).charAt(r.length-1).match(/[A-Za-z]/)&&(r+="."),n=r,(r=shallowClone(a)).body=encodeURIComponent(n)+u,o.href=i+queryString(r)});var n=null,r=document.querySelector("#mail-notice"),l=document.querySelector("#no-mailto");o.addEventListener("click",function(e){trigger_event("email_continue_clicked"),o.classList.add("is-loading"),r.classList.remove("is-hidden"),l.classList.add("is-hidden"),n=setTimeout(function(){n=null,r.classList.add("is-hidden"),l.classList.remove("is-hidden"),o.classList.remove("is-loading")},MAILTO_TIMEOUT)}),window.addEventListener("blur",function(e){null!==n&&(trigger_event("email_program_likely_opened"),r.classList.remove("is-hidden"),l.classList.add("is-hidden")),clearTimeout(n),n=null,o.classList.remove("is-loading")})}(),function(){var e=document.querySelector("a.button.is-whatsapp"),n=document.querySelector("label[for=radio-whatsapp]"),r=document.querySelector("a.button.is-signal"),t=document.querySelector("label[for=radio-signal]");register_event_once(e,"click","social_whatsapp_clicked"),register_event_once(n,"click","social_whatsapp_qr_opened"),register_event_once(r,"click","social_signal_clicked"),register_event_once(t,"click","social_signal_qr_opened")}(),function(){for(var e=[["whatsapp",document.querySelector("label[for=radio-whatsapp]")],["signal",document.querySelector("label[for=radio-signal]")]],n=function n(){var e=_slicedToArray(o[t],2),r=e[0];e[1].addEventListener("click",function(e){setTimeout(function(){var e=document.querySelector(".qrcode.is-"+r),n=(window.innerHeight-e.clientHeight)/2,n=elementPosition(e)-n;window.scroll({top:n,behavior:"smooth"})},QR_SCROLL_DELAY)})},t=0,o=e;t<o.length;t++)n()}(),function(){for(var e=0,n=["github","source"];e<n.length;e++){var r=n[e];register_event_once(document.querySelector("#link-"+r),"click","footer_"+r+"_clicked")}}();